import{u as b,r as u,c as f,w as a,V as w,a as y,o as m,b as l,d as x,e as C,f as k,g as _,h as n,i as A,j as S,k as N,l as T,m as V,n as h,t as q,p,q as B,s as R}from"./index-CwATBQsK.js";const L={__name:"LoginView",setup(j){const v=y(),c=b(),r=u(""),d=u(""),t=u(!1),s=u(null);async function g(){t.value=!0,s.value=null;try{await c.login(r.value,d.value),await v.replace("/")&&(window.location.href="/")}catch(i){s.value=i.message||"Anmeldung fehlgeschlagen"}finally{t.value=!1}}return(i,e)=>(m(),f(w,{class:"fill-height"},{default:a(()=>[l(x,{align:"center",justify:"center"},{default:a(()=>[l(C,{cols:"12",sm:"8",md:"6",lg:"4"},{default:a(()=>[l(k,null,{default:a(()=>[l(_,{class:"text-h5 text-center"},{default:a(()=>[...e[3]||(e[3]=[n(" Anmelden ",-1)])]),_:1}),l(A,null,{default:a(()=>[l(S,{onSubmit:N(g,["prevent"])},{default:a(()=>[l(V,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=o=>r.value=o),label:"E-Mail",type:"email",required:"",autofocus:"",disabled:t.value},null,8,["modelValue","disabled"]),l(V,{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=o=>d.value=o),label:"Passwort",type:"password",required:"",disabled:t.value},null,8,["modelValue","disabled"]),s.value?(m(),f(h,{key:0,type:"error",class:"mb-4",closable:"","onClick:close":e[2]||(e[2]=o=>s.value=null)},{default:a(()=>[n(q(s.value),1)]),_:1})):T("",!0),l(p,{type:"submit",color:"primary",block:"",loading:t.value},{default:a(()=>[...e[4]||(e[4]=[n(" Anmelden ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1}),l(B,null,{default:a(()=>[l(R),l(p,{to:{name:"register"},variant:"text",disabled:t.value},{default:a(()=>[...e[5]||(e[5]=[n(" Noch kein Konto? Registrieren ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{L as default};
